[+] ------START TIME (ST): Wed Feb 19 18:16:28 PST 2020------
Start cluster...
Launching controller
2020-02-19 18:16:32.229 [IPControllerApp] Hub listening on tcp://10.128.49.246:59083 for registration.
2020-02-19 18:16:32.231 [IPControllerApp] Hub using DB backend: 'DictDB'
2020-02-19 18:16:32.483 [IPControllerApp] hub::created hub
2020-02-19 18:16:32.483 [IPControllerApp] writing connection info to /global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-client.json
2020-02-19 18:16:32.495 [IPControllerApp] writing connection info to /global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-engine.json
2020-02-19 18:16:32.503 [IPControllerApp] task::using Python leastload Task scheduler
2020-02-19 18:16:32.503 [IPControllerApp] Heartmonitor started
2020-02-19 18:16:32.523 [IPControllerApp] Creating pid file: /global/u2/m/muszyng/.ipython/profile_default/pid/ipcontroller-cori_28281933.pid
2020-02-19 18:16:32.524 [scheduler] Scheduler started [leastload]
2020-02-19 18:16:32.526 [IPControllerApp] client::client b'\x00k\x8bEg' requested 'connection_request'
2020-02-19 18:16:32.526 [IPControllerApp] client::client [b'\x00k\x8bEg'] connected
Launching engines
2020-02-19 18:17:04.630 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-engine.json'
2020-02-19 18:17:04.636 [IPControllerApp] client::client b'c5d2eb38-866cb82cc3670b5f58492b31' requested 'registration_request'
2020-02-19 18:17:04.634 [IPEngineApp] Registering with controller at tcp://10.128.49.246:59083
2020-02-19 18:17:04.692 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-02-19 18:17:04.701 [IPEngineApp] Completed registration with id 0
2020-02-19 18:17:06.174 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-engine.json'
2020-02-19 18:17:06.176 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-engine.json'
2020-02-19 18:17:06.180 [IPEngineApp] Registering with controller at tcp://10.128.49.246:59083
2020-02-19 18:17:06.181 [IPControllerApp] client::client b'03a74987-532ddaf262986e01bede03be' requested 'registration_request'
2020-02-19 18:17:06.182 [IPEngineApp] Registering with controller at tcp://10.128.49.246:59083
2020-02-19 18:17:06.183 [IPControllerApp] client::client b'44fc2a3a-b9377ef5e88f7ed54b966993' requested 'registration_request'
2020-02-19 18:17:06.185 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-engine.json'
2020-02-19 18:17:06.190 [IPEngineApp] Registering with controller at tcp://10.128.49.246:59083
2020-02-19 18:17:06.191 [IPControllerApp] client::client b'e102bd91-8a3a557b81c7a672c1da107c' requested 'registration_request'
2020-02-19 18:17:06.238 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-02-19 18:17:06.238 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-02-19 18:17:06.246 [IPEngineApp] Completed registration with id 2
2020-02-19 18:17:06.247 [IPEngineApp] Completed registration with id 1
2020-02-19 18:17:06.250 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-02-19 18:17:06.260 [IPEngineApp] Completed registration with id 3
2020-02-19 18:17:06.410 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_28281933-engine.json'
2020-02-19 18:17:06.416 [IPEngineApp] Registering with controller at tcp://10.128.49.246:59083
2020-02-19 18:17:06.417 [IPControllerApp] client::client b'b5938c53-6de10bdba6aa9eb4ccf324bb' requested 'registration_request'
2020-02-19 18:17:06.472 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-02-19 18:17:06.480 [IPEngineApp] Completed registration with id 4
2020-02-19 18:17:08.507 [IPControllerApp] registration::finished registering engine 0:c5d2eb38-866cb82cc3670b5f58492b31
2020-02-19 18:17:08.507 [IPControllerApp] engine::Engine Connected: 0
2020-02-19 18:17:11.508 [IPControllerApp] registration::finished registering engine 2:44fc2a3a-b9377ef5e88f7ed54b966993
2020-02-19 18:17:11.508 [IPControllerApp] engine::Engine Connected: 2
2020-02-19 18:17:11.511 [IPControllerApp] registration::finished registering engine 4:b5938c53-6de10bdba6aa9eb4ccf324bb
2020-02-19 18:17:11.512 [IPControllerApp] engine::Engine Connected: 4
2020-02-19 18:17:11.514 [IPControllerApp] registration::finished registering engine 1:03a74987-532ddaf262986e01bede03be
2020-02-19 18:17:11.515 [IPControllerApp] engine::Engine Connected: 1
2020-02-19 18:17:11.517 [IPControllerApp] registration::finished registering engine 3:e102bd91-8a3a557b81c7a672c1da107c
2020-02-19 18:17:11.517 [IPControllerApp] engine::Engine Connected: 3
2020-02-19 18:17:39.296 [IPControllerApp] client::client b'\x00k\x8bEh' requested 'connection_request'
2020-02-19 18:17:39.296 [IPControllerApp] client::client [b'\x00k\x8bEh'] connected
Model_A_0 1 201 20
Job id: 28281933; Cluster id: cori_28281933
Worker IDs: [0, 1, 2, 3, 4]
Original order  ['0_train_0_.h5', '0_train_1_.h5', '0_train_2_.h5', '0_train_3_.h5', '0_train_4_.h5', '0_train_5_.h5', '0_train_6_.h5', '0_train_7_.h5', '0_train_8_.h5', '0_train_9_.h5', '0_train_10_.h5', '0_train_11_.h5', '0_train_12_.h5', '0_train_13_.h5', '0_train_14_.h5', '0_train_15_.h5', '0_train_16_.h5', '0_train_17_.h5', '0_train_18_.h5', '0_train_19_.h5'] ['0_val_0_.h5', '0_val_1_.h5', '0_val_2_.h5', '0_val_3_.h5', '0_val_4_.h5', '0_val_5_.h5', '0_val_6_.h5', '0_val_7_.h5', '0_val_8_.h5', '0_val_9_.h5', '0_val_10_.h5', '0_val_11_.h5', '0_val_12_.h5', '0_val_13_.h5', '0_val_14_.h5', '0_val_15_.h5', '0_val_16_.h5', '0_val_17_.h5', '0_val_18_.h5', '0_val_19_.h5']
Shuffled files: ['0_train_2_.h5', '0_train_17_.h5', '0_train_14_.h5', '0_train_6_.h5', '0_train_1_.h5', '0_train_18_.h5', '0_train_12_.h5', '0_train_8_.h5', '0_train_10_.h5', '0_train_0_.h5', '0_train_11_.h5', '0_train_9_.h5', '0_train_3_.h5', '0_train_19_.h5', '0_train_7_.h5', '0_train_16_.h5', '0_train_15_.h5', '0_train_13_.h5', '0_train_4_.h5', '0_train_5_.h5'] ['0_val_7_.h5', '0_val_5_.h5', '0_val_16_.h5', '0_val_0_.h5', '0_val_19_.h5', '0_val_18_.h5', '0_val_11_.h5', '0_val_8_.h5', '0_val_3_.h5', '0_val_12_.h5', '0_val_9_.h5', '0_val_2_.h5', '0_val_14_.h5', '0_val_4_.h5', '0_val_1_.h5', '0_val_15_.h5', '0_val_13_.h5', '0_val_17_.h5', '0_val_10_.h5', '0_val_6_.h5']
/global/cscratch1/sd/muszyng/cnn_model_runs/regression/Model_A/Model_A_0/28281933
['ihp', 'n_hpo_trials', 'n_convs_layers', 'conv_sizes', 'n_fc_layers', 'fc_sizes', 'dropout', 'optimizer', 'lr', 'batch_sizes', 'n_epochs', 'repeats_conv', 'recep_fields', 'checkpoint_dir']
Hyperparameter trial 0 conv [ 64 128 256 512] fc [256 128  64] dropout 0.3462 opt Adam, lr 0.0000, batch sizes 64
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/regression/Model_A/Model_A_0/28281933/model_0.h5
Hyperparameter trial 1 conv [ 64 128 256 512] fc [256 128  64] dropout 0.4594 opt Adam, lr 0.0000, batch sizes 128
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/regression/Model_A/Model_A_0/28281933/model_1.h5
Hyperparameter trial 2 conv [ 64 128 256 512] fc [256 128  64] dropout 0.3948 opt Adam, lr 0.0000, batch sizes 128
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/regression/Model_A/Model_A_0/28281933/model_2.h5
Hyperparameter trial 3 conv [ 64 128 256 512] fc [256 128  64] dropout 0.3962 opt Adam, lr 0.0000, batch sizes 128
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/regression/Model_A/Model_A_0/28281933/model_3.h5
Hyperparameter trial 4 conv [ 64 128 256 512] fc [256 128  64] dropout 0.4582 opt Adam, lr 0.0000, batch sizes 256
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/regression/Model_A/Model_A_0/28281933/model_4.h5
2020-02-19 18:17:39.974 [IPControllerApp] task::task '33d5aded-22f199ba78b53c7edfd44b5d' arrived on 3
2020-02-19 18:17:39.976 [IPControllerApp] task::task '7aaf670b-b615c5149bfa3c251a35cebb' arrived on 1
2020-02-19 18:17:39.979 [IPControllerApp] task::task '35f93c1d-9653e3674c747168220ab34c' arrived on 4
2020-02-19 18:17:39.981 [IPControllerApp] task::task '58ebaf1a-66b016d64950288a93df1a31' arrived on 2
2020-02-19 18:17:39.982 [IPControllerApp] task::task 'b33a08fe-cc1fb60331ccce7aa52111af' arrived on 0
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-02-19 18:17:42.529436: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-02-19 18:17:42.549671: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300005000 Hz
2020-02-19 18:17:42.551523: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558df4710 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-02-19 18:17:42.551538: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-02-19 18:17:48.819381: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-02-19 18:17:48.821091: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-02-19 18:17:48.841402: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2299765000 Hz
2020-02-19 18:17:48.843257: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558df4710 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-02-19 18:17:48.843273: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
2020-02-19 18:17:48.843288: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300010000 Hz
2020-02-19 18:17:48.845263: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558df4370 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-02-19 18:17:48.845277: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-02-19 18:17:48.963942: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-02-19 18:17:48.985358: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300065000 Hz
2020-02-19 18:17:48.987197: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558df4090 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-02-19 18:17:48.987211: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_A/Model_A_regres/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-02-19 18:17:49.616996: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-02-19 18:17:49.640823: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 2300015000 Hz
2020-02-19 18:17:49.642757: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558dee0b0 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-02-19 18:17:49.642772: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
2020-02-19 20:53:19.913 [IPControllerApp] task::task 'b33a08fe-cc1fb60331ccce7aa52111af' finished on 0
2020-02-19 20:53:46.133 [IPControllerApp] task::task '35f93c1d-9653e3674c747168220ab34c' finished on 4
IOStream.flush timed out
2020-02-19 20:53:46.703 [IPEngineApp] WARNING | No heartbeat in the last 3010 ms (1 time(s) in a row).
2020-02-19 21:25:58.724 [IPControllerApp] task::task '58ebaf1a-66b016d64950288a93df1a31' finished on 2
2020-02-19 21:25:58.888 [IPEngineApp] WARNING | No heartbeat in the last 3010 ms (1 time(s) in a row).
2020-02-19 22:07:35.539 [IPControllerApp] task::task '33d5aded-22f199ba78b53c7edfd44b5d' finished on 3
2020-02-19 22:07:37.203 [IPEngineApp] WARNING | No heartbeat in the last 3010 ms (1 time(s) in a row).
2020-02-19 22:09:41.790 [IPControllerApp] task::task '7aaf670b-b615c5149bfa3c251a35cebb' finished on 1
2020-02-19 22:09:43.611 [IPEngineApp] WARNING | No heartbeat in the last 3010 ms (1 time(s) in a row).
slurmstepd: error: *** STEP 28281933.0 ON nid12691 CANCELLED AT 2020-02-20T01:16:53 DUE TO TIME LIMIT ***
2020-02-20 01:16:53.777 [IPControllerApp] CRITICAL | Received signal 15, shutting down
2020-02-20 01:16:53.778 [IPControllerApp] CRITICAL | terminating children...
srun: got SIGCONT
srun: forcing job termination
