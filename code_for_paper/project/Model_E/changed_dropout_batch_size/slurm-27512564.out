[+] ------START TIME (ST): Mon Jan 20 14:42:57 PST 2020------
Start cluster...
Launching controller
2020-01-20 14:43:02.043 [IPControllerApp] Hub listening on tcp://10.128.17.74:42397 for registration.
2020-01-20 14:43:02.053 [IPControllerApp] Hub using DB backend: 'DictDB'
2020-01-20 14:43:02.314 [IPControllerApp] hub::created hub
2020-01-20 14:43:02.316 [IPControllerApp] writing connection info to /global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-client.json
2020-01-20 14:43:02.334 [IPControllerApp] writing connection info to /global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-engine.json
2020-01-20 14:43:02.349 [IPControllerApp] task::using Python leastload Task scheduler
2020-01-20 14:43:02.351 [IPControllerApp] Heartmonitor started
2020-01-20 14:43:02.393 [IPControllerApp] Creating pid file: /global/u2/m/muszyng/.ipython/profile_default/pid/ipcontroller-cori_27512564.pid
2020-01-20 14:43:02.416 [scheduler] Scheduler started [leastload]
2020-01-20 14:43:02.423 [IPControllerApp] client::client b'\x00k\x8bEg' requested 'connection_request'
2020-01-20 14:43:02.424 [IPControllerApp] client::client [b'\x00k\x8bEg'] connected
Launching engines
2020-01-20 14:43:34.913 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-engine.json'
2020-01-20 14:43:34.945 [IPControllerApp] client::client b'6f89036a-ce4f39a48b30fdfda11d1340' requested 'registration_request'
2020-01-20 14:43:34.936 [IPEngineApp] Registering with controller at tcp://10.128.17.74:42397
2020-01-20 14:43:35.221 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-01-20 14:43:35.272 [IPEngineApp] Completed registration with id 0
2020-01-20 14:43:35.664 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-engine.json'
2020-01-20 14:43:35.687 [IPEngineApp] Registering with controller at tcp://10.128.17.74:42397
2020-01-20 14:43:35.696 [IPControllerApp] client::client b'5f2232c2-59a7895f55cc9db6f224737c' requested 'registration_request'
2020-01-20 14:43:35.978 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-01-20 14:43:35.993 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-engine.json'
2020-01-20 14:43:36.016 [IPEngineApp] Registering with controller at tcp://10.128.17.74:42397
2020-01-20 14:43:36.020 [IPEngineApp] Completed registration with id 1
2020-01-20 14:43:36.025 [IPControllerApp] client::client b'ba109431-2cb4f55fbfb63f13816e9524' requested 'registration_request'
2020-01-20 14:43:36.308 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-01-20 14:43:36.346 [IPEngineApp] Completed registration with id 2
2020-01-20 14:43:37.060 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-engine.json'
2020-01-20 14:43:37.084 [IPEngineApp] Registering with controller at tcp://10.128.17.74:42397
2020-01-20 14:43:37.093 [IPControllerApp] client::client b'd810e6ae-0956f084a5c47e9187e084c1' requested 'registration_request'
2020-01-20 14:43:37.160 [IPEngineApp] Loading url_file '/global/u2/m/muszyng/.ipython/profile_default/security/ipcontroller-cori_27512564-engine.json'
2020-01-20 14:43:37.186 [IPEngineApp] Registering with controller at tcp://10.128.17.74:42397
2020-01-20 14:43:37.194 [IPControllerApp] client::client b'46eecd34-986de66746dd73854a849130' requested 'registration_request'
2020-01-20 14:43:37.389 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-01-20 14:43:37.430 [IPEngineApp] Completed registration with id 3
2020-01-20 14:43:37.486 [IPEngineApp] Starting to monitor the heartbeat signal from the hub every 3010 ms.
2020-01-20 14:43:37.528 [IPEngineApp] Completed registration with id 4
2020-01-20 14:43:38.354 [IPControllerApp] registration::finished registering engine 0:6f89036a-ce4f39a48b30fdfda11d1340
2020-01-20 14:43:38.357 [IPControllerApp] engine::Engine Connected: 0
2020-01-20 14:43:41.355 [IPControllerApp] registration::finished registering engine 2:ba109431-2cb4f55fbfb63f13816e9524
2020-01-20 14:43:41.357 [IPControllerApp] engine::Engine Connected: 2
2020-01-20 14:43:41.365 [IPControllerApp] registration::finished registering engine 1:5f2232c2-59a7895f55cc9db6f224737c
2020-01-20 14:43:41.366 [IPControllerApp] engine::Engine Connected: 1
2020-01-20 14:43:41.370 [IPControllerApp] registration::finished registering engine 4:46eecd34-986de66746dd73854a849130
2020-01-20 14:43:41.372 [IPControllerApp] engine::Engine Connected: 4
2020-01-20 14:43:41.377 [IPControllerApp] registration::finished registering engine 3:d810e6ae-0956f084a5c47e9187e084c1
2020-01-20 14:43:41.379 [IPControllerApp] engine::Engine Connected: 3
2020-01-20 14:44:17.168 [IPControllerApp] client::client b'\x00k\x8bEh' requested 'connection_request'
2020-01-20 14:44:17.169 [IPControllerApp] client::client [b'\x00k\x8bEh'] connected
Model_E_8 161 361 20
Job id: 27512564; Cluster id: cori_27512564
Worker IDs: [0, 1, 2, 3, 4]
Original order  ['8_train_0_.h5', '8_train_1_.h5', '8_train_2_.h5', '8_train_3_.h5', '8_train_4_.h5', '8_train_5_.h5', '8_train_6_.h5', '8_train_7_.h5', '8_train_8_.h5', '8_train_9_.h5', '8_train_10_.h5', '8_train_11_.h5', '8_train_12_.h5', '8_train_13_.h5', '8_train_14_.h5', '8_train_15_.h5', '8_train_16_.h5', '8_train_17_.h5', '8_train_18_.h5', '8_train_19_.h5'] ['8_val_0_.h5', '8_val_1_.h5', '8_val_2_.h5', '8_val_3_.h5', '8_val_4_.h5', '8_val_5_.h5', '8_val_6_.h5', '8_val_7_.h5', '8_val_8_.h5', '8_val_9_.h5', '8_val_10_.h5', '8_val_11_.h5', '8_val_12_.h5', '8_val_13_.h5', '8_val_14_.h5', '8_val_15_.h5', '8_val_16_.h5', '8_val_17_.h5', '8_val_18_.h5', '8_val_19_.h5']
Shuffled files: ['8_train_4_.h5', '8_train_8_.h5', '8_train_12_.h5', '8_train_7_.h5', '8_train_9_.h5', '8_train_13_.h5', '8_train_14_.h5', '8_train_11_.h5', '8_train_2_.h5', '8_train_17_.h5', '8_train_6_.h5', '8_train_15_.h5', '8_train_16_.h5', '8_train_18_.h5', '8_train_1_.h5', '8_train_0_.h5', '8_train_10_.h5', '8_train_5_.h5', '8_train_3_.h5', '8_train_19_.h5'] ['8_val_7_.h5', '8_val_18_.h5', '8_val_13_.h5', '8_val_8_.h5', '8_val_14_.h5', '8_val_2_.h5', '8_val_11_.h5', '8_val_12_.h5', '8_val_16_.h5', '8_val_3_.h5', '8_val_0_.h5', '8_val_6_.h5', '8_val_15_.h5', '8_val_10_.h5', '8_val_5_.h5', '8_val_4_.h5', '8_val_17_.h5', '8_val_9_.h5', '8_val_19_.h5', '8_val_1_.h5']
/global/cscratch1/sd/muszyng/cnn_model_runs/Model_E/Model_E_8/27512564
['ihp', 'n_hpo_trials', 'n_convs_layers', 'conv_sizes', 'n_fc_layers', 'fc_sizes', 'dropout', 'optimizer', 'lr', 'batch_sizes', 'n_epochs', 'repeats_conv', 'recep_fields', 'checkpoint_dir']
Hyperparameter trial 0 conv [ 64 128 256 512] fc [512 256 128  64] dropout 0.4768 opt Adam, lr 0.0000, batch sizes 128
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/Model_E/Model_E_8/27512564/model_0.h5
Hyperparameter trial 1 conv [ 64 128 256 512] fc [512 256 128  64] dropout 0.3897 opt Adam, lr 0.0000, batch sizes 256
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/Model_E/Model_E_8/27512564/model_1.h5
Hyperparameter trial 2 conv [ 64 128 256 512] fc [512 256 128  64] dropout 0.4929 opt Adam, lr 0.0000, batch sizes 256
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/Model_E/Model_E_8/27512564/model_2.h5
Hyperparameter trial 3 conv [ 64 128 256 512] fc [512 256 128  64] dropout 0.4609 opt Adam, lr 0.0000, batch sizes 256
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/Model_E/Model_E_8/27512564/model_3.h5
Hyperparameter trial 4 conv [ 64 128 256 512] fc [512 256 128  64] dropout 0.4010 opt Adam, lr 0.0000, batch sizes 128
Checkpoint file: /global/cscratch1/sd/muszyng/cnn_model_runs/Model_E/Model_E_8/27512564/model_4.h5
2020-01-20 14:44:17.288 [IPControllerApp] task::task 'cf4f4ce3-85666b516f3ce356c2bb01a9' arrived on 3
2020-01-20 14:44:17.300 [IPControllerApp] task::task '187bcd1c-6f7f5e1678b1b3cca8302de4' arrived on 4
2020-01-20 14:44:17.315 [IPControllerApp] task::task 'ab2d4ad9-5a65f48f85fb8771377e2d0a' arrived on 1
2020-01-20 14:44:17.329 [IPControllerApp] task::task '5f415eee-762a8feec042c602d8434da1' arrived on 2
2020-01-20 14:44:17.338 [IPControllerApp] task::task 'f47e767e-616a8c919ea6f972406da7f9' arrived on 0
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-01-20 14:44:30.166842: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-01-20 14:44:30.237882: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 1399890000 Hz
2020-01-20 14:44:30.247038: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55555881ea80 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-01-20 14:44:30.247165: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/nn_impl.py:183: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-01-20 14:44:34.267209: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-01-20 14:44:34.360535: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 1399985000 Hz
2020-01-20 14:44:34.369359: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558454800 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-01-20 14:44:34.369490: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-01-20 14:44:35.486957: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-01-20 14:44:35.577348: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 1399960000 Hz
2020-01-20 14:44:35.586839: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x555558453c40 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-01-20 14:44:35.586935: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-01-20 14:44:36.295764: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-01-20 14:44:36.389023: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 1400155000 Hz
2020-01-20 14:44:36.398763: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x55555881fa90 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-01-20 14:44:36.398892: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/nn_impl.py:183: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/nn_impl.py:183: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/nn_impl.py:183: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
WARNING:tensorflow:From test_ipyparallel.py:101: The name tf.keras.backend.set_session is deprecated. Please use tf.compat.v1.keras.backend.set_session instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:39: The name tf.ConfigProto is deprecated. Please use tf.compat.v1.ConfigProto instead.

WARNING:tensorflow:From /global/u2/m/muszyng/project-cnn-tda/cnn-project/my_project/new_project_mid_lat/code_for_paper/project/Model_E/changed_dropout_batch_size/mlextras.py:43: The name tf.Session is deprecated. Please use tf.compat.v1.Session instead.

2020-01-20 14:44:40.456329: I tensorflow/core/platform/cpu_feature_guard.cc:145] This TensorFlow binary is optimized with Intel(R) MKL-DNN to use the following CPU instructions in performance critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA
To enable them in non-MKL-DNN operations, rebuild TensorFlow with the appropriate compiler flags.
2020-01-20 14:44:40.552491: I tensorflow/core/platform/profile_utils/cpu_utils.cc:94] CPU Frequency: 1399890000 Hz
2020-01-20 14:44:40.563099: I tensorflow/compiler/xla/service/service.cc:168] XLA service 0x5555583d1d00 initialized for platform Host (this does not guarantee that XLA will be used). Devices:
2020-01-20 14:44:40.563208: I tensorflow/compiler/xla/service/service.cc:176]   StreamExecutor device (0): Host, Default Version
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/resource_variable_ops.py:1630: calling BaseResourceVariable.__init__ (from tensorflow.python.ops.resource_variable_ops) with constraint is deprecated and will be removed in a future version.
Instructions for updating:
If using Keras pass *_constraint arguments to layers.
WARNING:tensorflow:From /usr/common/software/tensorflow/intel-tensorflow/1.15.0-py37/lib/python3.7/site-packages/tensorflow_core/python/ops/nn_impl.py:183: where (from tensorflow.python.ops.array_ops) is deprecated and will be removed in a future version.
Instructions for updating:
Use tf.where in 2.0, which has the same broadcast rule as np.where
WARNING:tensorflow:`epsilon` argument is deprecated and will be removed, use `min_delta` instead.
WARNING:tensorflow:`period` argument is deprecated. Please use `save_freq` to specify the frequency in number of samples seen.
srun: got SIGCONT
slurmstepd: error: *** STEP 27512564.0 ON nid04391 CANCELLED AT 2020-01-20T16:19:21 ***
2020-01-20 16:19:21.067 [IPControllerApp] CRITICAL | Received signal 15, shutting down
srun: forcing job termination
2020-01-20 16:19:21.073 [IPControllerApp] CRITICAL | terminating children...
